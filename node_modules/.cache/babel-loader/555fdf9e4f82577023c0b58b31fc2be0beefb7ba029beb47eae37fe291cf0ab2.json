{"ast":null,"code":"import { getAdminAssetList, fastInsertAdminAsset, getTypeCascaderData } from \"./api.js\";\nimport dict from \"@/views/template/dict\";\nexport default {\n  name: \"add\",\n  components: {\n    dict\n  },\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    data: {\n      type: Object\n    }\n  },\n  watch: {\n    value(val) {\n      this.setCurrentValue(val);\n    },\n    visible(value) {\n      this.$emit(\"input\", value);\n    }\n  },\n  data() {\n    return {\n      tableHeight: 500,\n      cascaderData: [],\n      cascaderValue: [],\n      fastAddName: \"\",\n      fastAddType: \"办公设备\",\n      fastAddModal: \"\",\n      showValue: false,\n      visible: this.value,\n      title: \"\",\n      submitLoading: false,\n      maxHeight: 510,\n      form: {},\n      formValidate: {},\n      roleList: [],\n      userColumns: [{\n        title: \"元器件编码\",\n        key: \"code\",\n        width: 120,\n        align: \"center\",\n        fixed: \"left\"\n      }, {\n        title: \"名称\",\n        key: \"name\",\n        minWidth: 300,\n        align: \"center\",\n        tooltip: true,\n        fixed: \"left\"\n      }, {\n        title: \"大类\",\n        key: \"type2\",\n        minWidth: 120,\n        align: \"center\"\n      }, {\n        title: \"分类\",\n        key: \"type\",\n        minWidth: 120,\n        align: \"center\"\n      }, {\n        title: \"规格\",\n        key: \"gg\",\n        minWidth: 120,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"型号\",\n        key: \"xh\",\n        minWidth: 120,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"单位\",\n        key: \"jldw\",\n        minWidth: 120,\n        align: \"center\"\n      }, {\n        title: \"销售价\",\n        key: \"xsj\",\n        minWidth: 130,\n        align: \"center\",\n        sortable: true\n      }, {\n        title: \"采购状态\",\n        key: \"status1\",\n        minWidth: 120,\n        align: \"center\",\n        render: (h, params) => {\n          if (params.row.status1 == \"正常\") {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#111111\"\n              }\n            }, \"正常\")]);\n          } else {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff9900\"\n              }\n            }, params.row.status1)]);\n          }\n        }\n      }, {\n        title: \"物料状态\",\n        key: \"status2\",\n        minWidth: 120,\n        align: \"center\",\n        render: (h, params) => {\n          if (params.row.status2 == \"正常\") {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#111111\"\n              }\n            }, \"正常\")]);\n          } else {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff9900\"\n              }\n            }, params.row.status2)]);\n          }\n        }\n      }, {\n        title: \"色号\",\n        key: \"color\",\n        minWidth: 120,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"用途\",\n        key: \"purpose\",\n        minWidth: 120,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"备注\",\n        key: \"remark\",\n        minWidth: 160,\n        align: \"center\"\n      }, {\n        title: \"物料图片\",\n        key: \"imageUrl\",\n        minWidth: 100,\n        align: \"center\",\n        fixed: \"right\",\n        render: (h, params) => {\n          if (params.row.imageUrl != undefined && params.row.imageUrl != \"\") {\n            return h(\"img\", {\n              attrs: {\n                src: require(\"@/assets/file.png\")\n              },\n              style: {\n                cursor: \"zoom-in\",\n                width: \"16px\",\n                height: \"16px\",\n                margin: \"auto 0\",\n                \"object-fit\": \"contain\"\n              },\n              on: {\n                click: () => {\n                  this.showPic(params.row.imageUrl);\n                }\n              }\n            });\n          } else {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff9900\"\n              }\n            }, \"未上传\")]);\n          }\n        }\n      }, {\n        title: \"创建时间\",\n        key: \"createTime\",\n        sortable: true,\n        sortType: \"desc\",\n        minWidth: 180,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"创建者\",\n        key: \"createBy\",\n        minWidth: 100,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"修改时间\",\n        key: \"updateTime\",\n        minWidth: 180,\n        align: \"center\",\n        tooltip: true\n      }, {\n        title: \"修改者\",\n        key: \"updateBy\",\n        minWidth: 100,\n        align: \"center\",\n        tooltip: true\n      }],\n      isImportHuaData: true,\n      huasearchForm: {\n        pageNumber: 1,\n        pageSize: 20\n      },\n      selectHuaList: [],\n      selectHuaCount: [],\n      huaData: []\n    };\n  },\n  methods: {\n    init() {\n      this.cascaderValue = [];\n      this.fastAddModal = \"\";\n      this.fastAddName = \"\";\n      this.getTypeCascaderDataFx();\n      this.getHuaUserList();\n    },\n    changeSearchType(e) {\n      if (e.length > 1) {\n        this.huasearchForm.type2 = e[0];\n        this.huasearchForm.type = e[1];\n      } else if (e.length > 0) {\n        this.huasearchForm.type2 = e[0];\n        this.huasearchForm.type = \"\";\n      } else {\n        this.huasearchForm.type2 = \"\";\n        this.huasearchForm.type = \"\";\n      }\n    },\n    getTypeCascaderDataFx() {\n      var that = this;\n      getTypeCascaderData().then(res => {\n        if (res.success) {\n          that.cascaderData = res.result;\n        }\n      });\n    },\n    fastInsertAdminAssetFx() {\n      var that = this;\n      if (that.fastAddName == \"\") {\n        this.$Message.warning(\"元器件品类名称不能为空\");\n      } else if (that.fastAddModal == \"\") {\n        this.$Message.warning(\"元器件品类规格不能为空\");\n      } else if (this.cascaderValue == undefined || this.cascaderValue.length < 2) {\n        this.$Message.warning(\"请选择元器件分类！\");\n      } else {\n        fastInsertAdminAsset({\n          name: that.fastAddName,\n          type: that.cascaderValue[1],\n          type2: that.cascaderValue[0],\n          modal: that.fastAddModal\n        }).then(res => {\n          if (res.success) {\n            this.$emit(\"submited\", res.result);\n            this.$Message.success(\"导入成功\");\n          }\n        });\n      }\n    },\n    handleSelectDep(e) {\n      var that = this;\n      e.forEach(function (ee) {\n        that.huasearchForm.departmentId = ee.id;\n      });\n    },\n    huashowHuaSelect(e) {\n      this.$emit(\"submited\", e);\n      // console.log(e);\n    },\n    setCurrentValue(value) {\n      if (value === this.visible) {\n        return;\n      }\n      this.visible = value;\n    },\n    closeWindow() {\n      this.visible = false;\n    },\n    huahandleSearch() {\n      this.huasearchForm.pageNumber = 1;\n      this.huasearchForm.pageSize = 10;\n      this.getHuaUserList();\n    },\n    huahandleReset() {\n      this.$refs.huasearchForm.resetFields();\n      this.huasearchForm.type2 = \"\";\n      this.huasearchForm.type = \"\";\n      this.huasearchForm.pageNumber = 1;\n      this.huasearchForm.pageSize = 20;\n      this.huasearchForm.departmentId = '';\n      this.getHuaUserList();\n    },\n    huaclearSelectAll() {\n      this.$refs.table1.selectAll(false);\n    },\n    huachangePage(v) {\n      this.huasearchForm.pageNumber = v;\n      this.getHuaUserList();\n      this.huaclearSelectAll();\n    },\n    huachangePageSize(v) {\n      this.huasearchForm.pageSize = v;\n      this.getHuaUserList();\n    },\n    huaAddData() {\n      var that = this;\n      if (this.huaselectCount <= 0) {\n        this.$Message.warning(\"您还未选择要从花名册导入的数据\");\n        return;\n      }\n      this.$Modal.confirm({\n        title: \"确认导入\",\n        content: \"您确认要导入所选的 \" + this.huaselectCount + \" 条数据?\",\n        loading: true,\n        onOk: () => {\n          let ids = \"\";\n          this.huaselectList.forEach(function (e) {\n            ids += e.nickname + \",\";\n            ids = ids.substring(0, ids.length - 1);\n            this.$Modal.remove();\n            this.$Message.success(\"导入成功\");\n            this.isImportHuaData = false;\n            that.form.inPeople = ids;\n          });\n        }\n      });\n    },\n    getHuaUserList() {\n      this.hualoading = true;\n      getAdminAssetList(this.huasearchForm).then(res => {\n        this.hualoading = false;\n        if (res.success) {\n          this.huaData = res.result.records;\n          this.huaTotal = res.result.total;\n        }\n      });\n    }\n  },\n  mounted() {\n    this.tableHeight = Number(window.innerHeight - 500);\n    this.init();\n  }\n};","map":{"version":3,"names":["getAdminAssetList","fastInsertAdminAsset","getTypeCascaderData","dict","name","components","props","value","type","Boolean","default","data","Object","watch","val","setCurrentValue","visible","$emit","tableHeight","cascaderData","cascaderValue","fastAddName","fastAddType","fastAddModal","showValue","title","submitLoading","maxHeight","form","formValidate","roleList","userColumns","key","width","align","fixed","minWidth","tooltip","sortable","render","h","params","row","status1","style","color","status2","imageUrl","undefined","attrs","src","require","cursor","height","margin","on","click","showPic","sortType","isImportHuaData","huasearchForm","pageNumber","pageSize","selectHuaList","selectHuaCount","huaData","methods","init","getTypeCascaderDataFx","getHuaUserList","changeSearchType","e","length","type2","that","then","res","success","result","fastInsertAdminAssetFx","$Message","warning","modal","handleSelectDep","forEach","ee","departmentId","id","huashowHuaSelect","closeWindow","huahandleSearch","huahandleReset","$refs","resetFields","huaclearSelectAll","table1","selectAll","huachangePage","v","huachangePageSize","huaAddData","huaselectCount","$Modal","confirm","content","loading","onOk","ids","huaselectList","nickname","substring","remove","inPeople","hualoading","records","huaTotal","total","mounted","Number","window","innerHeight"],"sources":["src/views/ele/threeAdminAssetsBuy/supplierSelect.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <Drawer title=\"导入元器件品类\" closable v-model=\"visible\" draggable width=\"1600\">\r\n        <Row>\r\n            <Form ref=\"huasearchForm\" :model=\"huasearchForm\" inline :label-width=\"70\">\r\n                <Form-item label=\"元器件名\">\r\n                    <Input type=\"text\" v-model=\"huasearchForm.name\" clearable placeholder=\"元器件名...\" style=\"width: 150px\" />\r\n                </Form-item>\r\n                <Form-item label=\"元器件编码\">\r\n                    <Input type=\"text\" v-model=\"huasearchForm.code\" clearable placeholder=\"元器件编码...\" style=\"width: 150px\" />\r\n                </Form-item>\r\n                <Form-item label=\"规格\">\r\n                    <Input type=\"text\" v-model=\"huasearchForm.gg\" clearable placeholder=\"元器件规格...\" style=\"width: 150px\" />\r\n                </Form-item>\r\n                <Form-item label=\"分类\">\r\n                    <Cascader :data=\"cascaderData\" change-on-select @on-change=\"changeSearchType\" placeholder=\"元器件分类...\" style=\"width: 180px\"></Cascader>\r\n                </Form-item>\r\n                <Form-item>\r\n                    <Button @click=\"huahandleSearch\" type=\"primary\" icon=\"ios-search\" size=\"small\" ghost shape=\"circle\">搜索</Button>\r\n                    <Button @click=\"huahandleReset\" type=\"warning\" size=\"small\" ghost shape=\"circle\" icon=\"md-refresh\" style=\"margin-left: 10px;\">重置</Button>\r\n                </Form-item>\r\n            </Form>\r\n        </Row>\r\n        <Row v-show=\"openTip\">\r\n            <Alert show-icon>\r\n                已选择\r\n                <span class=\"select-count\">{{huaselectCount}}</span> 项\r\n                <a class=\"select-clear\" @click=\"huaclearSelectAll\">清空</a>\r\n            </Alert>\r\n        </Row>\r\n        <Row :gutter=\"16\">\r\n            <Col span=\"24\">\r\n            <Table :loading=\"hualoading\" :height=\"tableHeight\" border stripe size=\"small\" :columns=\"userColumns\" :data=\"huaData\" sortable=\"custom\" @on-sort-change=\"huachangeSort\" @on-row-dblclick=\"huashowHuaSelect\" ref=\"table1\"></Table>\r\n            </Col>\r\n        </Row>\r\n        <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page :current=\"huasearchForm.pageNumber\" :total=\"huaTotal\" :page-size=\"huasearchForm.pageSize\" @on-change=\"huachangePage\" @on-page-size-change=\"huachangePageSize\" :page-size-opts=\"[20,50,100,200]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n        </Row>\r\n        <span style=\"font-size:18px;color:#ff9900\">请双击导入元器件品类!</span>\r\n        <Button type=\"primary\" @click=\"closeWindow\">退出</Button>\r\n        <Divider>没有你要采购的元器件？在下面快速新增！</Divider>\r\n        <Form inline :label-width=\"100\">\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"8\">\r\n                <Form-item label=\"元器件品类名称\" style=\"width:100%\">\r\n                    <Input type=\"text\" v-model=\"fastAddName\" clearable placeholder=\"请输入元器件品类名称...\" />\r\n                </Form-item>\r\n                </Col>\r\n                <Col span=\"8\">\r\n                <FormItem label=\"分类\" prop=\"type\" style=\"width:100%\">\r\n                    <Cascader :data=\"cascaderData\" v-model=\"cascaderValue\" placeholder=\"请选择元器件分类...\"></Cascader>\r\n                </FormItem>\r\n                </Col>\r\n                <Col span=\"8\">\r\n                <FormItem label=\"型号\" prop=\"xh\" style=\"width:100%\">\r\n                    <Input v-model=\"fastAddModal\" clearable placeholder=\"请输入元器件品类型号...\" />\r\n                </FormItem>\r\n                </Col>\r\n            </Row>\r\n            <Row :gutter=\"16\" type=\"flex\" justify=\"center\">\r\n                <Button type=\"success\" ghost @click=\"fastInsertAdminAssetFx\">快速新增并导入</Button>\r\n            </Row>\r\n            <Divider />\r\n        </Form>\r\n    </Drawer>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getAdminAssetList,\r\n    fastInsertAdminAsset,\r\n    getTypeCascaderData\r\n} from \"./api.js\";\r\nimport dict from \"@/views/template/dict\";\r\nexport default {\r\n    name: \"add\",\r\n    components: {\r\n        dict\r\n    },\r\n    props: {\r\n        value: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        data: {\r\n            type: Object\r\n        },\r\n    },\r\n    watch: {\r\n        value(val) {\r\n            this.setCurrentValue(val);\r\n        },\r\n        visible(value) {\r\n            this.$emit(\"input\", value);\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            tableHeight: 500,\r\n            cascaderData: [],\r\n            cascaderValue: [],\r\n            fastAddName: \"\",\r\n            fastAddType: \"办公设备\",\r\n            fastAddModal: \"\",\r\n            showValue: false,\r\n            visible: this.value,\r\n            title: \"\",\r\n            submitLoading: false,\r\n            maxHeight: 510,\r\n            form: {},\r\n            formValidate: {},\r\n            roleList: [],\r\n            userColumns: [{\r\n                    title: \"元器件编码\",\r\n                    key: \"code\",\r\n                    width: 120,\r\n                    align: \"center\",\r\n                    fixed: \"left\",\r\n                },\r\n                {\r\n                    title: \"名称\",\r\n                    key: \"name\",\r\n                    minWidth: 300,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                    fixed: \"left\",\r\n                },\r\n                {\r\n                    title: \"大类\",\r\n                    key: \"type2\",\r\n                    minWidth: 120,\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    title: \"分类\",\r\n                    key: \"type\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                },\r\n                {\r\n                    title: \"规格\",\r\n                    key: \"gg\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"型号\",\r\n                    key: \"xh\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"单位\",\r\n                    key: \"jldw\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                },\r\n                {\r\n                    title: \"销售价\",\r\n                    key: \"xsj\",\r\n                    minWidth: 130,\r\n                    align: \"center\",\r\n                    sortable: true,\r\n                },\r\n                {\r\n                    title: \"采购状态\",\r\n                    key: \"status1\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                    render: (h, params) => {\r\n                        if (params.row.status1 == \"正常\") {\r\n                            return h(\"div\", [\r\n                                h(\r\n                                    \"span\", {\r\n                                        style: {\r\n                                            color: \"#111111\",\r\n                                        },\r\n                                    },\r\n                                    \"正常\"\r\n                                ),\r\n                            ]);\r\n                        } else {\r\n                            return h(\"div\", [\r\n                                h(\r\n                                    \"span\", {\r\n                                        style: {\r\n                                            color: \"#ff9900\",\r\n                                        },\r\n                                    },\r\n                                    params.row.status1\r\n                                ),\r\n                            ]);\r\n                        }\r\n                    },\r\n                },\r\n                {\r\n                    title: \"物料状态\",\r\n                    key: \"status2\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                    render: (h, params) => {\r\n                        if (params.row.status2 == \"正常\") {\r\n                            return h(\"div\", [\r\n                                h(\r\n                                    \"span\", {\r\n                                        style: {\r\n                                            color: \"#111111\",\r\n                                        },\r\n                                    },\r\n                                    \"正常\"\r\n                                ),\r\n                            ]);\r\n                        } else {\r\n                            return h(\"div\", [\r\n                                h(\r\n                                    \"span\", {\r\n                                        style: {\r\n                                            color: \"#ff9900\",\r\n                                        },\r\n                                    },\r\n                                    params.row.status2\r\n                                ),\r\n                            ]);\r\n                        }\r\n                    },\r\n                },\r\n                {\r\n                    title: \"色号\",\r\n                    key: \"color\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"用途\",\r\n                    key: \"purpose\",\r\n                    minWidth: 120,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"备注\",\r\n                    key: \"remark\",\r\n                    minWidth: 160,\r\n                    align: \"center\",\r\n                },\r\n                {\r\n                    title: \"物料图片\",\r\n                    key: \"imageUrl\",\r\n                    minWidth: 100,\r\n                    align: \"center\",\r\n                    fixed: \"right\",\r\n                    render: (h, params) => {\r\n                        if (params.row.imageUrl != undefined && params.row.imageUrl != \"\") {\r\n                            return h(\"img\", {\r\n                                attrs: {\r\n                                    src: require(\"@/assets/file.png\"),\r\n                                },\r\n                                style: {\r\n                                    cursor: \"zoom-in\",\r\n                                    width: \"16px\",\r\n                                    height: \"16px\",\r\n                                    margin: \"auto 0\",\r\n                                    \"object-fit\": \"contain\",\r\n                                },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.showPic(params.row.imageUrl);\r\n                                    },\r\n                                },\r\n                            });\r\n                        } else {\r\n                            return h(\"div\", [\r\n                                h(\r\n                                    \"span\", {\r\n                                        style: {\r\n                                            color: \"#ff9900\",\r\n                                        },\r\n                                    },\r\n                                    \"未上传\"\r\n                                ),\r\n                            ]);\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    title: \"创建时间\",\r\n                    key: \"createTime\",\r\n                    sortable: true,\r\n                    sortType: \"desc\",\r\n                    minWidth: 180,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"创建者\",\r\n                    key: \"createBy\",\r\n                    minWidth: 100,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"修改时间\",\r\n                    key: \"updateTime\",\r\n                    minWidth: 180,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n                {\r\n                    title: \"修改者\",\r\n                    key: \"updateBy\",\r\n                    minWidth: 100,\r\n                    align: \"center\",\r\n                    tooltip: true,\r\n                },\r\n            ],\r\n            isImportHuaData: true,\r\n            huasearchForm: {\r\n                pageNumber: 1,\r\n                pageSize: 20,\r\n            },\r\n            selectHuaList: [],\r\n            selectHuaCount: [],\r\n            huaData: [],\r\n        };\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.cascaderValue = [];\r\n            this.fastAddModal = \"\";\r\n            this.fastAddName = \"\";\r\n            this.getTypeCascaderDataFx();\r\n            this.getHuaUserList();\r\n        },\r\n        changeSearchType(e) {\r\n            if (e.length > 1) {\r\n                this.huasearchForm.type2 = e[0];\r\n                this.huasearchForm.type = e[1];\r\n            } else if (e.length > 0) {\r\n                this.huasearchForm.type2 = e[0];\r\n                this.huasearchForm.type = \"\";\r\n            } else {\r\n                this.huasearchForm.type2 = \"\";\r\n                this.huasearchForm.type = \"\";\r\n            }\r\n        },\r\n        getTypeCascaderDataFx() {\r\n            var that = this;\r\n            getTypeCascaderData().then(res => {\r\n                if (res.success) {\r\n                    that.cascaderData = res.result;\r\n                }\r\n            })\r\n        },\r\n        fastInsertAdminAssetFx() {\r\n            var that = this;\r\n            if (that.fastAddName == \"\") {\r\n                this.$Message.warning(\"元器件品类名称不能为空\");\r\n            } else if (that.fastAddModal == \"\") {\r\n                this.$Message.warning(\"元器件品类规格不能为空\");\r\n            } else if (this.cascaderValue == undefined || this.cascaderValue.length < 2) {\r\n                this.$Message.warning(\"请选择元器件分类！\");\r\n            } else {\r\n                fastInsertAdminAsset({\r\n                    name: that.fastAddName,\r\n                    type: that.cascaderValue[1],\r\n                    type2: that.cascaderValue[0],\r\n                    modal: that.fastAddModal\r\n                }).then(res => {\r\n                    if (res.success) {\r\n                        this.$emit(\"submited\", res.result);\r\n                        this.$Message.success(\"导入成功\");\r\n                    }\r\n                })\r\n            }\r\n\r\n        },\r\n        handleSelectDep(e) {\r\n            var that = this;\r\n            e.forEach(function (ee) {\r\n                that.huasearchForm.departmentId = ee.id;\r\n            });\r\n        },\r\n        huashowHuaSelect(e) {\r\n            this.$emit(\"submited\", e);\r\n            // console.log(e);\r\n        },\r\n        setCurrentValue(value) {\r\n            if (value === this.visible) {\r\n                return;\r\n            }\r\n            this.visible = value;\r\n        },\r\n        closeWindow() {\r\n            this.visible = false;\r\n        },\r\n        huahandleSearch() {\r\n            this.huasearchForm.pageNumber = 1;\r\n            this.huasearchForm.pageSize = 10;\r\n            this.getHuaUserList();\r\n        },\r\n        huahandleReset() {\r\n            this.$refs.huasearchForm.resetFields();\r\n            this.huasearchForm.type2 = \"\";\r\n            this.huasearchForm.type = \"\";\r\n            this.huasearchForm.pageNumber = 1;\r\n            this.huasearchForm.pageSize = 20;\r\n            this.huasearchForm.departmentId = '';\r\n            this.getHuaUserList();\r\n        },\r\n        huaclearSelectAll() {\r\n            this.$refs.table1.selectAll(false);\r\n        },\r\n        huachangePage(v) {\r\n            this.huasearchForm.pageNumber = v;\r\n            this.getHuaUserList();\r\n            this.huaclearSelectAll();\r\n        },\r\n        huachangePageSize(v) {\r\n            this.huasearchForm.pageSize = v;\r\n            this.getHuaUserList();\r\n        },\r\n        huaAddData() {\r\n            var that = this;\r\n            if (this.huaselectCount <= 0) {\r\n                this.$Message.warning(\"您还未选择要从花名册导入的数据\");\r\n                return;\r\n            }\r\n            this.$Modal.confirm({\r\n                title: \"确认导入\",\r\n                content: \"您确认要导入所选的 \" + this.huaselectCount + \" 条数据?\",\r\n                loading: true,\r\n                onOk: () => {\r\n                    let ids = \"\";\r\n                    this.huaselectList.forEach(function (e) {\r\n                        ids += e.nickname + \",\";\r\n                        ids = ids.substring(0, ids.length - 1);\r\n                        this.$Modal.remove();\r\n                        this.$Message.success(\"导入成功\");\r\n                        this.isImportHuaData = false;\r\n                        that.form.inPeople = ids;\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        getHuaUserList() {\r\n            this.hualoading = true;\r\n            getAdminAssetList(this.huasearchForm).then(res => {\r\n                this.hualoading = false;\r\n                if (res.success) {\r\n                    this.huaData = res.result.records;\r\n                    this.huaTotal = res.result.total;\r\n                }\r\n            });\r\n        },\r\n    },\r\n    mounted() {\r\n        this.tableHeight = Number(window.innerHeight - 500);\r\n        this.init();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.edit-head {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    position: relative;\r\n\r\n    .back-title {\r\n        color: #515a6e;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .head-name {\r\n        display: inline-block;\r\n        height: 20px;\r\n        line-height: 20px;\r\n        font-size: 16px;\r\n        color: #17233d;\r\n        font-weight: 500;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .window-close {\r\n        z-index: 1;\r\n        font-size: 12px;\r\n        position: absolute;\r\n        right: 0px;\r\n        top: -5px;\r\n        overflow: hidden;\r\n        cursor: pointer;\r\n\r\n        .ivu-icon-ios-close {\r\n            color: #999;\r\n            transition: color .2s ease;\r\n        }\r\n    }\r\n\r\n    .window-close .ivu-icon-ios-close:hover {\r\n        color: #444;\r\n    }\r\n}\r\n</style>\r\n"],"mappings":"AAqEA,SACAA,iBAAA,EACAC,oBAAA,EACAC,mBAAA,QACA;AACA,OAAAC,IAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAI;IACA;EACA;EACAC,KAAA;IACAN,MAAAO,GAAA;MACA,KAAAC,eAAA,CAAAD,GAAA;IACA;IACAE,QAAAT,KAAA;MACA,KAAAU,KAAA,UAAAV,KAAA;IACA;EACA;EACAI,KAAA;IACA;MACAO,WAAA;MACAC,YAAA;MACAC,aAAA;MACAC,WAAA;MACAC,WAAA;MACAC,YAAA;MACAC,SAAA;MACAR,OAAA,OAAAT,KAAA;MACAkB,KAAA;MACAC,aAAA;MACAC,SAAA;MACAC,IAAA;MACAC,YAAA;MACAC,QAAA;MACAC,WAAA;QACAN,KAAA;QACAO,GAAA;QACAC,KAAA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAV,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;QACAG,OAAA;QACAF,KAAA;MACA,GACA;QACAV,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;MACA,GACA;QACAT,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;MACA,GACA;QACAT,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;QACAG,OAAA;MACA,GACA;QACAZ,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;QACAG,OAAA;MACA,GACA;QACAZ,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;MACA,GACA;QACAT,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;QACAI,QAAA;MACA,GACA;QACAb,KAAA;QACAO,GAAA;QACAI,QAAA;QACAF,KAAA;QACAK,MAAA,EAAAA,CAAAC,CAAA,EAAAC,MAAA;UACA,IAAAA,MAAA,CAAAC,GAAA,CAAAC,OAAA;YACA,OAAAH,CAAA,SACAA,CAAA,CACA;cACAI,KAAA;gBACAC,KAAA;cACA;YACA,GACA,IACA,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}